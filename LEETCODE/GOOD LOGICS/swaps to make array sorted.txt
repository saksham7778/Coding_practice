https://www.geeksforgeeks.org/minimum-number-swaps-required-sort-array/

// we check for cycles

#include<bits/stdc++.h>
#define fast ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);
#define int long long
using namespace std;


int32_t main(){
//	fast;
	int n;cin>>n;
	int ar[n+1];
	
	for(int i=1;i<=n;i++){
		cin>>ar[i];
	}
	
	vector<vector<int>> v;
	bool visited [n+1]={0};
	
	for(int i=1;i<=n;i++){
		
		if(ar[i]==i || visited[i])
			continue;
		vector<int> temp;
		while(!visited[i]){
			visited[i]=1;
			temp.push_back(i);
			i=ar[i];
		}
		v.push_back(temp);
	}

	for(int i=0;i<v.size();i++){	
		for(int j=0;j<v[i].size();j++){
			cout<<v[i][j]<<" ";
		}	
		cout<<"\n";
	}
}